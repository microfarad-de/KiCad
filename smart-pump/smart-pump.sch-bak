EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr User 8268 5827
encoding utf-8
Sheet 1 1
Title "Smart Water Pump"
Date "2022-04-11"
Rev ""
Comp "µF"
Comment1 "www.github.com/microfarad-de/smart-pump"
Comment2 "www.microfarad.de"
Comment3 "Please visit:"
Comment4 "Copyright (C) 2022, Karim Hraibi"
$EndDescr
$Comp
L microfarad-de:Arduino_Pro_Mini U2
U 1 1 6249FA11
P 4750 1900
F 0 "U2" H 4750 2865 50  0000 C CNN
F 1 "Arduino_Pro_Mini" H 4750 2774 50  0000 C CNN
F 2 "" H 4850 2300 50  0001 C CNN
F 3 "" H 4850 2300 50  0001 C CNN
	1    4750 1900
	-1   0    0    -1  
$EndComp
$Comp
L Device:C C3
U 1 1 624A13A7
P 4025 3350
F 0 "C3" H 4140 3396 50  0000 L CNN
F 1 "100nF" H 4140 3305 50  0000 L CNN
F 2 "" H 4063 3200 50  0001 C CNN
F 3 "~" H 4025 3350 50  0001 C CNN
	1    4025 3350
	1    0    0    -1  
$EndComp
$Comp
L Device:CP C1
U 1 1 624A1E9E
P 1150 1475
F 0 "C1" H 1268 1521 50  0000 L CNN
F 1 "10µF" H 1268 1430 50  0000 L CNN
F 2 "" H 1188 1325 50  0001 C CNN
F 3 "~" H 1150 1475 50  0001 C CNN
	1    1150 1475
	1    0    0    -1  
$EndComp
$Comp
L Device:Q_PMOS_GDS Q2
U 1 1 624A418B
P 6825 1925
F 0 "Q2" H 7030 1879 50  0000 L CNN
F 1 "IRF5305" H 7030 1970 50  0000 L CNN
F 2 "" H 7025 2025 50  0001 C CNN
F 3 "~" H 6825 1925 50  0001 C CNN
	1    6825 1925
	1    0    0    1   
$EndComp
$Comp
L Switch:SW_SPST SW1
U 1 1 624A63F8
P 3125 3175
F 0 "SW1" V 3125 3087 50  0000 R CNN
F 1 "SW_SPST" V 3080 3087 50  0001 R CNN
F 2 "" H 3125 3175 50  0001 C CNN
F 3 "~" H 3125 3175 50  0001 C CNN
	1    3125 3175
	0    -1   -1   0   
$EndComp
$Comp
L power:+5V #PWR05
U 1 1 624AAD51
P 2275 1225
F 0 "#PWR05" H 2275 1075 50  0001 C CNN
F 1 "+5V" H 2290 1398 50  0000 C CNN
F 2 "" H 2275 1225 50  0001 C CNN
F 3 "" H 2275 1225 50  0001 C CNN
	1    2275 1225
	1    0    0    -1  
$EndComp
$Comp
L power:+12V #PWR01
U 1 1 624AB5EA
P 1150 1225
F 0 "#PWR01" H 1150 1075 50  0001 C CNN
F 1 "+12V" H 1165 1398 50  0000 C CNN
F 2 "" H 1150 1225 50  0001 C CNN
F 3 "" H 1150 1225 50  0001 C CNN
	1    1150 1225
	1    0    0    -1  
$EndComp
$Comp
L Device:CP C2
U 1 1 624AE719
P 2275 1475
F 0 "C2" H 2393 1521 50  0000 L CNN
F 1 "10µF" H 2393 1430 50  0000 L CNN
F 2 "" H 2313 1325 50  0001 C CNN
F 3 "~" H 2275 1475 50  0001 C CNN
	1    2275 1475
	1    0    0    -1  
$EndComp
Wire Wire Line
	2025 1325 2275 1325
Connection ~ 2275 1325
Wire Wire Line
	1425 1325 1150 1325
Wire Wire Line
	2275 1325 2275 1225
Wire Wire Line
	1150 1225 1150 1325
Connection ~ 1150 1325
$Comp
L power:GND #PWR04
U 1 1 624AA5A3
P 1725 1725
F 0 "#PWR04" H 1725 1475 50  0001 C CNN
F 1 "GND" H 1730 1552 50  0000 C CNN
F 2 "" H 1725 1725 50  0001 C CNN
F 3 "" H 1725 1725 50  0001 C CNN
	1    1725 1725
	1    0    0    -1  
$EndComp
Wire Wire Line
	1725 1625 1725 1675
Wire Wire Line
	2275 1625 2275 1675
Wire Wire Line
	2275 1675 1725 1675
Connection ~ 1725 1675
Wire Wire Line
	1725 1675 1725 1725
Wire Wire Line
	1150 1625 1150 1675
Wire Wire Line
	1150 1675 1725 1675
$Comp
L Connector:Screw_Terminal_01x04 J1
U 1 1 624AC3B4
P 1150 2775
F 0 "J1" H 1068 3000 50  0000 C CNN
F 1 "Screw_Terminal_01x04" H 1068 3001 50  0001 C CNN
F 2 "" H 1150 2775 50  0001 C CNN
F 3 "~" H 1150 2775 50  0001 C CNN
	1    1150 2775
	-1   0    0    -1  
$EndComp
$Comp
L power:+12V #PWR02
U 1 1 624B860C
P 1475 2600
F 0 "#PWR02" H 1475 2450 50  0001 C CNN
F 1 "+12V" H 1490 2773 50  0000 C CNN
F 2 "" H 1475 2600 50  0001 C CNN
F 3 "" H 1475 2600 50  0001 C CNN
	1    1475 2600
	1    0    0    -1  
$EndComp
Wire Wire Line
	1350 2775 1475 2775
Wire Wire Line
	1475 2775 1475 2600
$Comp
L Device:R R7
U 1 1 624BB180
P 6625 3350
F 0 "R7" V 6525 3150 50  0000 L CNN
F 1 "1Ω/1W" V 6525 3300 50  0000 L CNN
F 2 "" V 6555 3350 50  0001 C CNN
F 3 "~" H 6625 3350 50  0001 C CNN
	1    6625 3350
	1    0    0    -1  
$EndComp
Text GLabel 1800 2975 2    50   Input ~ 0
M-
Text GLabel 1800 2875 2    50   Input ~ 0
M+
Wire Wire Line
	1350 2975 1800 2975
Wire Wire Line
	1350 2875 1800 2875
$Comp
L power:GND #PWR03
U 1 1 624C1205
P 1575 2700
F 0 "#PWR03" H 1575 2450 50  0001 C CNN
F 1 "GND" H 1725 2625 50  0000 C CNN
F 2 "" H 1575 2700 50  0001 C CNN
F 3 "" H 1575 2700 50  0001 C CNN
	1    1575 2700
	1    0    0    -1  
$EndComp
Wire Wire Line
	1350 2675 1575 2675
Wire Wire Line
	1575 2675 1575 2700
$Comp
L Device:R R8
U 1 1 624C399C
P 6825 3350
F 0 "R8" V 6725 3150 50  0000 L CNN
F 1 "1Ω/1W" V 6725 3300 50  0000 L CNN
F 2 "" V 6755 3350 50  0001 C CNN
F 3 "~" H 6825 3350 50  0001 C CNN
	1    6825 3350
	1    0    0    -1  
$EndComp
$Comp
L Device:R R9
U 1 1 624C3E95
P 7025 3350
F 0 "R9" V 6925 3150 50  0000 L CNN
F 1 "1Ω/1W" V 6925 3300 50  0000 L CNN
F 2 "" V 6955 3350 50  0001 C CNN
F 3 "~" H 7025 3350 50  0001 C CNN
	1    7025 3350
	1    0    0    -1  
$EndComp
$Comp
L Device:R R10
U 1 1 624C41A7
P 7225 3350
F 0 "R10" V 7125 3150 50  0000 L CNN
F 1 "1Ω/1W" V 7125 3300 50  0000 L CNN
F 2 "" V 7155 3350 50  0001 C CNN
F 3 "~" H 7225 3350 50  0001 C CNN
	1    7225 3350
	1    0    0    -1  
$EndComp
Wire Wire Line
	6625 3200 6625 3050
Wire Wire Line
	6625 3050 6825 3050
Wire Wire Line
	7225 3050 7225 3200
Wire Wire Line
	6825 3200 6825 3050
Connection ~ 6825 3050
Wire Wire Line
	6825 3050 6925 3050
Wire Wire Line
	7025 3200 7025 3050
Connection ~ 7025 3050
Wire Wire Line
	7025 3050 7225 3050
Wire Wire Line
	6625 3500 6625 3625
Wire Wire Line
	6625 3625 6825 3625
Wire Wire Line
	7225 3625 7225 3500
Wire Wire Line
	7025 3500 7025 3625
Connection ~ 7025 3625
Wire Wire Line
	7025 3625 7225 3625
Wire Wire Line
	6825 3500 6825 3625
Connection ~ 6825 3625
Wire Wire Line
	6825 3625 6925 3625
$Comp
L power:GND #PWR013
U 1 1 624D1273
P 6925 3725
F 0 "#PWR013" H 6925 3475 50  0001 C CNN
F 1 "GND" H 6930 3552 50  0000 C CNN
F 2 "" H 6925 3725 50  0001 C CNN
F 3 "" H 6925 3725 50  0001 C CNN
	1    6925 3725
	1    0    0    -1  
$EndComp
Wire Wire Line
	6925 3725 6925 3625
Connection ~ 6925 3625
Wire Wire Line
	6925 3625 7025 3625
Text GLabel 7300 2250 2    50   Output ~ 0
M+
Text GLabel 7300 2725 2    50   Output ~ 0
M-
Wire Wire Line
	6925 3050 6925 2725
Wire Wire Line
	6925 2725 7300 2725
Connection ~ 6925 3050
Wire Wire Line
	6925 3050 7025 3050
$Comp
L Device:R R6
U 1 1 624DB492
P 6600 1725
F 0 "R6" H 6670 1771 50  0000 L CNN
F 1 "10kΩ" H 6670 1680 50  0000 L CNN
F 2 "" V 6530 1725 50  0001 C CNN
F 3 "~" H 6600 1725 50  0001 C CNN
	1    6600 1725
	1    0    0    -1  
$EndComp
$Comp
L Transistor_BJT:BC337 Q1
U 1 1 624DC755
P 6025 2300
F 0 "Q1" H 6216 2346 50  0000 L CNN
F 1 "BC337" H 6216 2255 50  0000 L CNN
F 2 "Package_TO_SOT_THT:TO-92_Inline" H 6225 2225 50  0001 L CIN
F 3 "https://diotec.com/tl_files/diotec/files/pdf/datasheets/bc337.pdf" H 6025 2300 50  0001 L CNN
	1    6025 2300
	1    0    0    -1  
$EndComp
$Comp
L Device:R R5
U 1 1 624DFF01
P 5575 2300
F 0 "R5" V 5675 2175 50  0000 C CNN
F 1 "10kΩ" V 5675 2375 50  0000 C CNN
F 2 "" V 5505 2300 50  0001 C CNN
F 3 "~" H 5575 2300 50  0001 C CNN
	1    5575 2300
	0    1    1    0   
$EndComp
Wire Wire Line
	5250 2300 5425 2300
Wire Wire Line
	5725 2300 5825 2300
$Comp
L power:GND #PWR011
U 1 1 624E24FE
P 6125 2550
F 0 "#PWR011" H 6125 2300 50  0001 C CNN
F 1 "GND" H 6130 2377 50  0000 C CNN
F 2 "" H 6125 2550 50  0001 C CNN
F 3 "" H 6125 2550 50  0001 C CNN
	1    6125 2550
	1    0    0    -1  
$EndComp
Wire Wire Line
	6125 2550 6125 2500
Wire Wire Line
	6600 1575 6600 1550
Wire Wire Line
	6600 1550 6925 1550
Wire Wire Line
	6925 1550 6925 1725
$Comp
L power:+12V #PWR012
U 1 1 624EF9D8
P 6925 1200
F 0 "#PWR012" H 6925 1050 50  0001 C CNN
F 1 "+12V" H 6940 1373 50  0000 C CNN
F 2 "" H 6925 1200 50  0001 C CNN
F 3 "" H 6925 1200 50  0001 C CNN
	1    6925 1200
	1    0    0    -1  
$EndComp
Wire Wire Line
	6925 1200 6925 1550
Connection ~ 6925 1550
$Comp
L Diode:1N4007 D2
U 1 1 624F2CB9
P 6925 2475
F 0 "D2" V 6879 2555 50  0000 L CNN
F 1 "1N4007" V 6970 2555 50  0000 L CNN
F 2 "Diode_THT:D_DO-41_SOD81_P10.16mm_Horizontal" H 6925 2300 50  0001 C CNN
F 3 "http://www.vishay.com/docs/88503/1n4001.pdf" H 6925 2475 50  0001 C CNN
	1    6925 2475
	0    1    1    0   
$EndComp
Wire Wire Line
	6925 2725 6925 2625
Connection ~ 6925 2725
Wire Wire Line
	6925 2325 6925 2250
Wire Wire Line
	6925 2250 7300 2250
Wire Wire Line
	6925 2250 6925 2125
Connection ~ 6925 2250
Wire Wire Line
	6625 1925 6600 1925
Wire Wire Line
	6600 1925 6600 1875
Wire Wire Line
	6600 1925 6125 1925
Wire Wire Line
	6125 1925 6125 2100
Connection ~ 6600 1925
Wire Wire Line
	4250 1700 4025 1700
$Comp
L Device:R R4
U 1 1 62503BEE
P 4475 3050
F 0 "R4" V 4575 2925 50  0000 C CNN
F 1 "10kΩ" V 4575 3125 50  0000 C CNN
F 2 "" V 4405 3050 50  0001 C CNN
F 3 "~" H 4475 3050 50  0001 C CNN
	1    4475 3050
	0    1    1    0   
$EndComp
Wire Wire Line
	4025 3050 4325 3050
Wire Wire Line
	4025 1700 4025 3050
Connection ~ 4025 3050
Wire Wire Line
	4025 3050 4025 3200
$Comp
L power:GND #PWR09
U 1 1 62508748
P 4025 3725
F 0 "#PWR09" H 4025 3475 50  0001 C CNN
F 1 "GND" H 4030 3552 50  0000 C CNN
F 2 "" H 4025 3725 50  0001 C CNN
F 3 "" H 4025 3725 50  0001 C CNN
	1    4025 3725
	1    0    0    -1  
$EndComp
Wire Wire Line
	4025 3500 4025 3600
Wire Wire Line
	4625 3050 6625 3050
Connection ~ 6625 3050
Wire Wire Line
	4250 2300 3575 2300
Connection ~ 4025 3600
Wire Wire Line
	4025 3600 4025 3725
Wire Wire Line
	3125 3600 3125 3375
Wire Wire Line
	3125 2975 3125 2200
Wire Wire Line
	3125 2200 4250 2200
Wire Wire Line
	3575 2300 3575 2550
$Comp
L Device:R R3
U 1 1 6251750F
P 3575 2700
F 0 "R3" H 3645 2746 50  0000 L CNN
F 1 "2.2kΩ" H 3645 2655 50  0000 L CNN
F 2 "" V 3505 2700 50  0001 C CNN
F 3 "~" H 3575 2700 50  0001 C CNN
	1    3575 2700
	1    0    0    -1  
$EndComp
Connection ~ 3575 3600
Wire Wire Line
	3575 3600 3125 3600
Wire Wire Line
	4025 3600 3575 3600
Wire Wire Line
	3575 2850 3575 3000
Wire Wire Line
	3575 3600 3575 3300
$Comp
L Device:LED D1
U 1 1 624A6BC4
P 3575 3150
F 0 "D1" V 3614 3032 50  0000 R CNN
F 1 "LED" V 3523 3032 50  0000 R CNN
F 2 "" H 3575 3150 50  0001 C CNN
F 3 "~" H 3575 3150 50  0001 C CNN
	1    3575 3150
	0    -1   -1   0   
$EndComp
Text Notes 6475 2975 0    50   ~ 0
Shunt
Wire Notes Line
	6450 3700 7350 3700
Wire Notes Line
	7350 2875 6450 2875
Wire Notes Line
	7350 2875 7350 3700
Wire Notes Line
	6450 2875 6450 3700
$Comp
L power:+5V #PWR010
U 1 1 6253FA6A
P 4100 1200
F 0 "#PWR010" H 4100 1050 50  0001 C CNN
F 1 "+5V" H 4115 1373 50  0000 C CNN
F 2 "" H 4100 1200 50  0001 C CNN
F 3 "" H 4100 1200 50  0001 C CNN
	1    4100 1200
	1    0    0    -1  
$EndComp
Wire Wire Line
	4100 1500 4250 1500
$Comp
L power:GND #PWR08
U 1 1 625417BF
P 3875 1375
F 0 "#PWR08" H 3875 1125 50  0001 C CNN
F 1 "GND" H 3880 1202 50  0000 C CNN
F 2 "" H 3875 1375 50  0001 C CNN
F 3 "" H 3875 1375 50  0001 C CNN
	1    3875 1375
	1    0    0    -1  
$EndComp
Wire Wire Line
	4250 1300 3875 1300
Wire Wire Line
	3875 1300 3875 1375
Wire Wire Line
	4100 1200 4100 1500
$Comp
L Regulator_Linear:AMS1117-5.0 U1
U 1 1 6259A42F
P 1725 1325
F 0 "U1" H 1725 1567 50  0000 C CNN
F 1 "AMS1117-5.0" H 1725 1476 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-223-3_TabPin2" H 1725 1525 50  0001 C CNN
F 3 "http://www.advanced-monolithic.com/pdf/ds1117.pdf" H 1825 1075 50  0001 C CNN
	1    1725 1325
	1    0    0    -1  
$EndComp
$Comp
L Device:R R1
U 1 1 6255CFA6
P 3375 1425
F 0 "R1" H 3445 1471 50  0000 L CNN
F 1 "13kΩ" H 3445 1380 50  0000 L CNN
F 2 "" V 3305 1425 50  0001 C CNN
F 3 "~" H 3375 1425 50  0001 C CNN
	1    3375 1425
	1    0    0    -1  
$EndComp
$Comp
L power:+12V #PWR06
U 1 1 6255DF96
P 3375 1200
F 0 "#PWR06" H 3375 1050 50  0001 C CNN
F 1 "+12V" H 3390 1373 50  0000 C CNN
F 2 "" H 3375 1200 50  0001 C CNN
F 3 "" H 3375 1200 50  0001 C CNN
	1    3375 1200
	1    0    0    -1  
$EndComp
Wire Wire Line
	3375 1200 3375 1275
$Comp
L Device:R R2
U 1 1 62560486
P 3375 1775
F 0 "R2" H 3445 1821 50  0000 L CNN
F 1 "1kΩ" H 3445 1730 50  0000 L CNN
F 2 "" V 3305 1775 50  0001 C CNN
F 3 "~" H 3375 1775 50  0001 C CNN
	1    3375 1775
	1    0    0    -1  
$EndComp
Wire Wire Line
	3375 1575 3375 1600
Wire Wire Line
	4250 1600 3375 1600
Connection ~ 3375 1600
Wire Wire Line
	3375 1600 3375 1625
$Comp
L power:GND #PWR07
U 1 1 6256B214
P 3375 1925
F 0 "#PWR07" H 3375 1675 50  0001 C CNN
F 1 "GND" H 3380 1752 50  0000 C CNN
F 2 "" H 3375 1925 50  0001 C CNN
F 3 "" H 3375 1925 50  0001 C CNN
	1    3375 1925
	1    0    0    -1  
$EndComp
$EndSCHEMATC
